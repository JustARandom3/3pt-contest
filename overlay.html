<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>3PT Overlay</title>
<style>
body{margin:0;background:transparent;font-family:Arial;color:white;}
.wrap{position:absolute;left:40px;bottom:40px;width:1200px;
background:#111;padding:16px;border-radius:10px;
box-shadow:0 10px 40px rgba(0,0,0,.6);}
.top{display:flex;gap:20px;margin-bottom:12px;}
.box{background:#1a1a1a;padding:12px 18px;border-radius:8px;}
.label{font-size:12px;opacity:.6;text-transform:uppercase;}
.big{font-size:28px;font-weight:800;}
.racks{display:flex;gap:12px;}
.rack{flex:1;background:#151515;padding:10px;border-radius:8px;}
.rack.active{outline:3px solid #3b82f6;}
.rack.money{outline:3px solid gold;}
.title{font-size:12px;margin-bottom:6px;text-transform:uppercase;opacity:.6;}
.dots{display:flex;gap:6px;}
.dot{width:18px;height:18px;border-radius:50%;background:#333;}
.dot.made{background:#22c55e;}
.dot.miss{background:#ef4444;}
.dot.money{border:2px solid gold;}
</style>
</head>
<body>
<div class="wrap">
<div class="top">
<div class="box"><div class="label">Shooter</div><div class="big" id="player">MAGIC</div></div>
<div class="box"><div class="label">Score</div><div class="big" id="score">0</div></div>
<div class="box"><div class="label">Time</div><div class="big" id="time">60.0</div></div>
</div>
<div class="racks" id="racks"></div>
</div>

<script>
const rackNames=["CORNER","WING","TOP KEY","WING","CORNER"];

function getState(){
return JSON.parse(localStorage.getItem("threePTState")) || {
player:"MAGIC",
score:0,
timeLeft:60000,
running:false,
rackIndex:0,
ballIndex:0,
moneyRack:2,
balls:Array.from({length:5},()=>Array.from({length:5},()=>null))
};
}

function isMoney(s,r,b){
return r===s.moneyRack || b===4;
}

function render(){
let s=getState();
document.getElementById("player").textContent=s.player;
document.getElementById("score").textContent=s.score;
document.getElementById("time").textContent=(s.timeLeft/1000).toFixed(1);

let racks=document.getElementById("racks");
racks.innerHTML="";
for(let r=0;r<5;r++){
let div=document.createElement("div");
div.className="rack";
if(r===s.rackIndex)div.classList.add("active");
if(r===s.moneyRack)div.classList.add("money");

let title=document.createElement("div");
title.className="title";
title.textContent=rackNames[r];
div.appendChild(title);

let dots=document.createElement("div");
dots.className="dots";

for(let b=0;b<5;b++){
let d=document.createElement("div");
d.className="dot";
if(isMoney(s,r,b))d.classList.add("money");
if(s.balls[r][b]==="made")d.classList.add("made");
if(s.balls[r][b]==="miss")d.classList.add("miss");
dots.appendChild(d);
}
div.appendChild(dots);
racks.appendChild(div);
}
}

setInterval(()=>{
let s=getState();
if(s.running && s.timeLeft>0){
s.timeLeft-=250;
localStorage.setItem("threePTState",JSON.stringify(s));
}
render();
},250);

render();
</script>
</body>
</html>
